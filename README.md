# Event Management System - MySQL Database

This repository contains the MySQL database schema and sample implementation for an Event Management System as part of the DevifyX MySQL Core Assignment.

## Database Schema Overview

The database is designed to support all core features required by the assignment:

1. **User Management**: Tables for users, roles, and role assignments
2. **Event Management**: Events, categories, and scheduling
3. **Venue Management**: Venues with section breakdowns for seat management
4. **Ticketing System**: Ticket types and individual tickets with seat assignments
5. **RSVP System**: Track user responses to events
6. **Notifications**: System for event reminders and updates
7. **Feedback**: Attendee ratings and comments
8. **Sponsorships**: Bonus feature for event sponsors

## Bonus Features Implemented

1. Recurring events support
2. Waitlist auto-promotion when tickets become available (via stored procedure)
3. Event feedback and ratings
4. Event sponsors with tiered sponsorship levels

## Setup Instructions

1. Create the database by running the entire SQL script in MySQL
2. The script will:
   - Create the database and all tables
   - Set up appropriate constraints and indexes
   - Insert sample data for demonstration
   - Create stored procedures and triggers

## Key Stored Procedures

1. `promote_waitlisted_rsvps(event_id)` - Automatically promotes waitlisted RSVPs when tickets become available
2. `purchase_ticket(user_id, ticket_type_id, quantity, seat_number, section_id, result)` - Handles ticket purchases with validation

## Key Triggers

1. `after_ticket_cancelled` - Automatically promotes waitlisted RSVPs when a ticket is cancelled
2. `before_ticket_insert` - Validates seat assignments to prevent duplicates and overcapacity

## Sample Queries

The script includes 10 sample queries demonstrating:
- Event listings with filtering
- Ticket availability checks
- User-specific event information
- Attendee lists
- Revenue calculations
- Capacity management
- Rating aggregations
- Recurring event patterns
- Notification tracking
- Sponsor information

## Assumptions

1. An event can have multiple ticket types but all share the same venue capacity
2. Recurring events are handled by storing a pattern but only the next occurrence date
3. Seat management is optional (some events may not have assigned seating)
4. Notifications are generated by other processes but stored in the database
5. Users can have multiple roles (e.g., both organizer and attendee)